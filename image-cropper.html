<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Cropper - C·∫Øt & Ch·ªânh S·ª≠a ·∫¢nh Online Mi·ªÖn Ph√≠ | ZapTools</title>
    <meta name="description" content="Image Cropper mi·ªÖn ph√≠ - C·∫Øt, resize v√† ch·ªânh s·ª≠a ·∫£nh online. H·ªó tr·ª£ nhi·ªÅu t·ª∑ l·ªá khung h√¨nh, xoay ·∫£nh, zoom. C√¥ng c·ª• crop ·∫£nh online t·ªët nh·∫•t.">
    <meta name="keywords" content="image cropper, crop image, resize image, cut image, photo editor, c·∫Øt ·∫£nh online, ch·ªânh s·ª≠a ·∫£nh, crop ·∫£nh">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Image Cropper - C·∫Øt & Ch·ªânh S·ª≠a ·∫¢nh Online">
    <meta property="og:description" content="C√¥ng c·ª• c·∫Øt v√† ch·ªânh s·ª≠a ·∫£nh online mi·ªÖn ph√≠. D·ªÖ s·ª≠ d·ª•ng, nhi·ªÅu t√πy ch·ªçn.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://zaptools.pro/image-cropper.html">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Image Cropper - C·∫Øt ·∫¢nh Online">
    <meta name="twitter:description" content="C·∫Øt v√† ch·ªânh s·ª≠a ·∫£nh online mi·ªÖn ph√≠, nhanh ch√≥ng.">

    <link rel="canonical" href="https://zaptools.pro/image-cropper.html">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Cropper.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .tool-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }

        .upload-area {
            border: 3px dashed #e0e0e0;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .upload-area:hover {
            border-color: #667eea;
            background: #f5f7ff;
        }

        .upload-area.dragover {
            border-color: #667eea;
            background: #f5f7ff;
            transform: scale(1.02);
        }

        .upload-area input[type="file"] {
            display: none;
        }

        .upload-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 10px;
        }

        .upload-hint {
            font-size: 0.9em;
            color: #999;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            display: none;
        }

        .controls.active {
            display: grid;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            font-size: 0.9em;
        }

        select {
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.95em;
            font-family: inherit;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        select:hover {
            border-color: #667eea;
        }

        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .crop-container {
            max-width: 100%;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            display: none;
        }

        .crop-container.active {
            display: block;
        }

        .crop-container img {
            max-width: 100%;
            display: block;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
            display: none;
        }

        .action-buttons.active {
            display: flex;
        }

        .preview-container {
            margin-top: 20px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            display: none;
        }

        .preview-container.active {
            display: block;
        }

        .preview-container h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .preview-image {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .image-info {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .info-item {
            display: flex;
            flex-direction: column;
        }

        .info-label {
            font-size: 0.85em;
            color: #666;
        }

        .info-value {
            font-size: 1.1em;
            font-weight: 600;
            color: #333;
        }

        button {
            padding: 12px 24px;
            font-size: 0.95em;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #10b981;
            color: white;
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: #ef4444;
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        .info-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-top: 30px;
        }

        .info-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .info-section h3 {
            color: #333;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .info-section p {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .info-section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .info-section li {
            color: #666;
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            padding: 20px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .feature-card p {
            color: #555;
            font-size: 0.95em;
        }

        .back-home {
            text-align: center;
            margin-top: 30px;
        }

        .back-home a {
            display: inline-block;
            padding: 12px 30px;
            background: white;
            color: #667eea;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .back-home a:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255,255,255,0.3);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .controls {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚úÇÔ∏è Image Cropper</h1>
            <p>C·∫Øt, ch·ªânh s·ª≠a v√† t·ªëi ∆∞u h√≥a ·∫£nh c·ªßa b·∫°n</p>
        </div>

        <div class="tool-card">
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">üì∏</div>
                <div class="upload-text">Click ho·∫∑c k√©o th·∫£ ·∫£nh v√†o ƒë√¢y</div>
                <div class="upload-hint">H·ªó tr·ª£: JPG, PNG, GIF, WebP (Max 10MB)</div>
                <input type="file" id="imageInput" accept="image/*">
            </div>

            <div class="controls" id="controls">
                <div class="control-group">
                    <label for="aspectRatio">T·ª∑ l·ªá khung h√¨nh:</label>
                    <select id="aspectRatio" onchange="setAspectRatio()">
                        <option value="free">Free (T·ª± do)</option>
                        <option value="1">1:1 (Square)</option>
                        <option value="1.7777777778">16:9 (Landscape)</option>
                        <option value="0.5625">9:16 (Portrait)</option>
                        <option value="1.3333333333">4:3</option>
                        <option value="0.75">3:4</option>
                        <option value="2">2:1</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="quality">Ch·∫•t l∆∞·ª£ng output:</label>
                    <select id="quality">
                        <option value="1">Cao (100%)</option>
                        <option value="0.9" selected>T·ªët (90%)</option>
                        <option value="0.8">Trung b√¨nh (80%)</option>
                        <option value="0.7">Th·∫•p (70%)</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="format">ƒê·ªãnh d·∫°ng:</label>
                    <select id="format">
                        <option value="image/jpeg">JPEG</option>
                        <option value="image/png">PNG</option>
                        <option value="image/webp">WebP</option>
                    </select>
                </div>
            </div>

            <div class="action-buttons" id="actionButtons">
                <button class="btn-secondary" onclick="rotateLeft()">‚Ü∫ Xoay Tr√°i</button>
                <button class="btn-secondary" onclick="rotateRight()">‚Üª Xoay Ph·∫£i</button>
                <button class="btn-secondary" onclick="flipHorizontal()">‚¨å L·∫≠t Ngang</button>
                <button class="btn-secondary" onclick="flipVertical()">‚¨ç L·∫≠t D·ªçc</button>
                <button class="btn-secondary" onclick="reset()">üîÑ Reset</button>
            </div>

            <div class="crop-container" id="cropContainer">
                <img id="image" alt="Image to crop">
            </div>

            <div class="action-buttons active" id="cropButtons" style="display: none;">
                <button class="btn-primary" onclick="cropImage()">‚úÇÔ∏è Crop ·∫¢nh</button>
                <button class="btn-danger" onclick="clearImage()">üóëÔ∏è X√≥a ·∫¢nh</button>
            </div>

            <div class="preview-container" id="previewContainer">
                <h3>üñºÔ∏è ·∫¢nh ƒë√£ crop</h3>
                <img id="preview" class="preview-image" alt="Cropped image">
                <div class="image-info">
                    <div class="info-item">
                        <span class="info-label">K√≠ch th∆∞·ªõc</span>
                        <span class="info-value" id="dimensions">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Dung l∆∞·ª£ng</span>
                        <span class="info-value" id="fileSize">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ƒê·ªãnh d·∫°ng</span>
                        <span class="info-value" id="fileFormat">-</span>
                    </div>
                </div>
                <div class="action-buttons active" style="margin-top: 15px;">
                    <button class="btn-success" onclick="downloadImage()">üíæ Download ·∫¢nh</button>
                    <button class="btn-secondary" onclick="copyToClipboard()">üìã Copy ·∫¢nh</button>
                </div>
            </div>
        </div>

        <div class="info-section">
            <h2>Image Cropper - C√¥ng C·ª• C·∫Øt & Ch·ªânh S·ª≠a ·∫¢nh Online T·ªët Nh·∫•t</h2>

            <p>Image Cropper l√† c√¥ng c·ª• mi·ªÖn ph√≠ gi√∫p b·∫°n c·∫Øt, resize v√† ch·ªânh s·ª≠a ·∫£nh tr·ª±c tuy·∫øn. H·ªó tr·ª£ nhi·ªÅu t·ª∑ l·ªá khung h√¨nh, xoay ·∫£nh, l·∫≠t ·∫£nh v√† t·ªëi ∆∞u h√≥a ch·∫•t l∆∞·ª£ng.</p>

            <h3>üéØ T√≠nh NƒÉng N·ªïi B·∫≠t</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <h4>üìê Nhi·ªÅu T·ª∑ L·ªá</h4>
                    <p>H·ªó tr·ª£ c√°c t·ª∑ l·ªá ph·ªï bi·∫øn: 1:1, 16:9, 4:3 ho·∫∑c t·ª± do</p>
                </div>
                <div class="feature-card">
                    <h4>üîÑ Xoay & L·∫≠t</h4>
                    <p>Xoay tr√°i/ph·∫£i, l·∫≠t ngang/d·ªçc d·ªÖ d√†ng</p>
                </div>
                <div class="feature-card">
                    <h4>üé® Nhi·ªÅu Format</h4>
                    <p>Export ·∫£nh sang JPEG, PNG ho·∫∑c WebP</p>
                </div>
                <div class="feature-card">
                    <h4>‚öôÔ∏è T√πy Ch·ªânh Ch·∫•t L∆∞·ª£ng</h4>
                    <p>ƒêi·ªÅu ch·ªânh ch·∫•t l∆∞·ª£ng ƒë·ªÉ balance gi·ªØa quality v√† file size</p>
                </div>
                <div class="feature-card">
                    <h4>üñ±Ô∏è Drag & Drop</h4>
                    <p>K√©o th·∫£ ·∫£nh tr·ª±c ti·∫øp v√†o tr√¨nh duy·ªát</p>
                </div>
                <div class="feature-card">
                    <h4>üîí B·∫£o M·∫≠t 100%</h4>
                    <p>X·ª≠ l√Ω ho√†n to√†n tr√™n tr√¨nh duy·ªát, kh√¥ng upload l√™n server</p>
                </div>
            </div>

            <h3>üìö H∆∞·ªõng D·∫´n S·ª≠ D·ª•ng</h3>
            <ul>
                <li><strong>B∆∞·ªõc 1:</strong> Upload ·∫£nh b·∫±ng c√°ch click ho·∫∑c drag & drop</li>
                <li><strong>B∆∞·ªõc 2:</strong> Ch·ªçn t·ª∑ l·ªá khung h√¨nh mong mu·ªën</li>
                <li><strong>B∆∞·ªõc 3:</strong> K√©o v√† resize khung crop tr√™n ·∫£nh</li>
                <li><strong>B∆∞·ªõc 4:</strong> S·ª≠ d·ª•ng c√°c n√∫t xoay/l·∫≠t n·∫øu c·∫ßn</li>
                <li><strong>B∆∞·ªõc 5:</strong> Click "Crop ·∫¢nh" ƒë·ªÉ ho√†n t·∫•t</li>
                <li><strong>B∆∞·ªõc 6:</strong> Download ·∫£nh ƒë√£ crop</li>
            </ul>

            <h3>üìê C√°c T·ª∑ L·ªá Khung H√¨nh Ph·ªï Bi·∫øn</h3>
            <ul>
                <li><strong>1:1 (Square):</strong> Ho√†n h·∫£o cho Instagram posts, avatars</li>
                <li><strong>16:9 (Landscape):</strong> Ti√™u chu·∫©n cho videos, YouTube thumbnails</li>
                <li><strong>9:16 (Portrait):</strong> Cho Instagram Stories, TikTok</li>
                <li><strong>4:3:</strong> T·ª∑ l·ªá truy·ªÅn th·ªëng cho ·∫£nh m√°y ·∫£nh</li>
                <li><strong>3:4:</strong> T·ª∑ l·ªá portrait cho ·∫£nh ch√¢n dung</li>
                <li><strong>Free:</strong> T·ª± do crop theo √Ω mu·ªën</li>
            </ul>

            <h3>üí° C√°c Tr∆∞·ªùng H·ª£p S·ª≠ D·ª•ng</h3>
            <ul>
                <li><strong>Social Media:</strong> Crop ·∫£nh cho Facebook, Instagram, Twitter</li>
                <li><strong>Profile Pictures:</strong> T·∫°o avatar vu√¥ng cho c√°c t√†i kho·∫£n</li>
                <li><strong>Thumbnails:</strong> T·∫°o thumbnail cho videos, blog posts</li>
                <li><strong>Product Photos:</strong> C·∫Øt v√† t·ªëi ∆∞u ·∫£nh s·∫£n ph·∫©m cho e-commerce</li>
                <li><strong>Document Photos:</strong> Crop ·∫£nh ID, passport, documents</li>
                <li><strong>Web Optimization:</strong> Resize ·∫£nh ƒë·ªÉ t·ªëi ∆∞u loading speed</li>
            </ul>

            <h3>üéì Tips & Tricks</h3>
            <ul>
                <li>S·ª≠ d·ª•ng quality 90% ƒë·ªÉ c√≥ balance t·ªët gi·ªØa ch·∫•t l∆∞·ª£ng v√† dung l∆∞·ª£ng</li>
                <li>WebP format cho file size nh·ªè h∆°n v·ªõi ch·∫•t l∆∞·ª£ng t∆∞∆°ng ƒë∆∞∆°ng</li>
                <li>PNG cho ·∫£nh c·∫ßn transparency (n·ªÅn trong su·ªët)</li>
                <li>JPEG cho ·∫£nh ch·ª•p, photos th√¥ng th∆∞·ªùng</li>
                <li>Gi·ªØ aspect ratio g·ªëc n·∫øu mu·ªën crop m√† kh√¥ng b·ªã m√©o</li>
            </ul>

            <h3>‚ö° T√≠nh NƒÉng N√¢ng Cao</h3>
            <ul>
                <li><strong>Zoom:</strong> Scroll chu·ªôt ƒë·ªÉ zoom in/out tr√™n ·∫£nh</li>
                <li><strong>Move:</strong> Drag ·∫£nh ƒë·ªÉ di chuy·ªÉn trong khung crop</li>
                <li><strong>Resize:</strong> K√©o c√°c g√≥c c·ªßa khung crop ƒë·ªÉ resize</li>
                <li><strong>Reset:</strong> Kh√¥i ph·ª•c v·ªÅ tr·∫°ng th√°i ban ƒë·∫ßu</li>
            </ul>

            <h3>‚ùì FAQs</h3>
            <p><strong>Q: ·∫¢nh c·ªßa t√¥i c√≥ ƒë∆∞·ª£c upload l√™n server kh√¥ng?</strong><br>
            A: Kh√¥ng! T·∫•t c·∫£ x·ª≠ l√Ω ƒë∆∞·ª£c th·ª±c hi·ªán ho√†n to√†n tr√™n tr√¨nh duy·ªát c·ªßa b·∫°n. ·∫¢nh kh√¥ng bao gi·ªù r·ªùi kh·ªèi m√°y t√≠nh c·ªßa b·∫°n.</p>

            <p><strong>Q: C√≥ gi·ªõi h·∫°n k√≠ch th∆∞·ªõc file kh√¥ng?</strong><br>
            A: Tool ho·∫°t ƒë·ªông t·ªët v·ªõi ·∫£nh d∆∞·ªõi 10MB. ·∫¢nh l·ªõn h∆°n v·∫´n ho·∫°t ƒë·ªông nh∆∞ng c√≥ th·ªÉ ch·∫≠m.</p>

            <p><strong>Q: L√†m sao ƒë·ªÉ gi·ªØ ch·∫•t l∆∞·ª£ng ·∫£nh t·ªët nh·∫•t?</strong><br>
            A: Ch·ªçn quality 100% v√† format PNG. Tuy nhi√™n file size s·∫Ω l·ªõn h∆°n.</p>

            <p><strong>Q: Tool c√≥ h·ªó tr·ª£ batch processing (x·ª≠ l√Ω nhi·ªÅu ·∫£nh c√πng l√∫c) kh√¥ng?</strong><br>
            A: Hi·ªán t·∫°i ch·ªâ h·ªó tr·ª£ crop t·ª´ng ·∫£nh m·ªôt. T√≠nh nƒÉng batch s·∫Ω ƒë∆∞·ª£c th√™m trong t∆∞∆°ng lai.</p>
        </div>

        <div class="back-home">
            <a href="Index.html">‚Üê V·ªÅ Trang Ch·ªß ZapTools</a>
        </div>
    </div>

    <!-- Cropper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.js"></script>

    <script>
        let cropper = null;
        let croppedImage = null;

        const uploadArea = document.getElementById('uploadArea');
        const imageInput = document.getElementById('imageInput');
        const image = document.getElementById('image');

        // Click to upload
        uploadArea.addEventListener('click', () => imageInput.click());

        // Drag and drop
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const file = e.dataTransfer.files[0];
            if (file && file.type.startsWith('image/')) {
                loadImage(file);
            }
        });

        imageInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                loadImage(file);
            }
        });

        function loadImage(file) {
            if (file.size > 10 * 1024 * 1024) {
                alert('File qu√° l·ªõn! Vui l√≤ng ch·ªçn ·∫£nh d∆∞·ªõi 10MB.');
                return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
                image.src = e.target.result;
                document.getElementById('cropContainer').classList.add('active');
                document.getElementById('controls').classList.add('active');
                document.getElementById('actionButtons').classList.add('active');
                document.getElementById('cropButtons').style.display = 'flex';
                document.getElementById('previewContainer').classList.remove('active');

                if (cropper) {
                    cropper.destroy();
                }

                cropper = new Cropper(image, {
                    aspectRatio: NaN,
                    viewMode: 1,
                    dragMode: 'move',
                    autoCropArea: 0.8,
                    restore: false,
                    guides: true,
                    center: true,
                    highlight: true,
                    cropBoxMovable: true,
                    cropBoxResizable: true,
                    toggleDragModeOnDblclick: false,
                });
            };
            reader.readAsDataURL(file);
        }

        function setAspectRatio() {
            if (!cropper) return;
            const ratio = document.getElementById('aspectRatio').value;
            cropper.setAspectRatio(ratio === 'free' ? NaN : parseFloat(ratio));
        }

        function rotateLeft() {
            if (cropper) cropper.rotate(-90);
        }

        function rotateRight() {
            if (cropper) cropper.rotate(90);
        }

        function flipHorizontal() {
            if (cropper) {
                const data = cropper.getData();
                cropper.scaleX(-data.scaleX || -1);
            }
        }

        function flipVertical() {
            if (cropper) {
                const data = cropper.getData();
                cropper.scaleY(-data.scaleY || -1);
            }
        }

        function reset() {
            if (cropper) cropper.reset();
        }

        function cropImage() {
            if (!cropper) return;

            const quality = parseFloat(document.getElementById('quality').value);
            const format = document.getElementById('format').value;

            const canvas = cropper.getCroppedCanvas();
            canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                document.getElementById('preview').src = url;
                croppedImage = { blob, url };

                // Update info
                document.getElementById('dimensions').textContent = `${canvas.width} √ó ${canvas.height}px`;
                document.getElementById('fileSize').textContent = formatFileSize(blob.size);
                document.getElementById('fileFormat').textContent = format.split('/')[1].toUpperCase();

                document.getElementById('previewContainer').classList.add('active');
            }, format, quality);
        }

        function downloadImage() {
            if (!croppedImage) return;

            const format = document.getElementById('format').value;
            const ext = format.split('/')[1];
            const a = document.createElement('a');
            a.href = croppedImage.url;
            a.download = `cropped-image.${ext}`;
            a.click();
        }

        function copyToClipboard() {
            if (!croppedImage) return;

            navigator.clipboard.write([
                new ClipboardItem({ [croppedImage.blob.type]: croppedImage.blob })
            ]).then(() => {
                alert('ƒê√£ copy ·∫£nh v√†o clipboard!');
            }).catch(() => {
                alert('Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ copy ·∫£nh. Vui l√≤ng download thay th·∫ø.');
            });
        }

        function clearImage() {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ·∫£nh n√†y?')) {
                if (cropper) {
                    cropper.destroy();
                    cropper = null;
                }
                image.src = '';
                imageInput.value = '';
                document.getElementById('cropContainer').classList.remove('active');
                document.getElementById('controls').classList.remove('active');
                document.getElementById('actionButtons').classList.remove('active');
                document.getElementById('cropButtons').style.display = 'none';
                document.getElementById('previewContainer').classList.remove('active');
            }
        }

        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
        }
    </script>
</body>
</html>